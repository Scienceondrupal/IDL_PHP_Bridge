    IDL_PHP_Bridge Copyright (C) 2014  New Media Studio, Inc.

    This program is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    This program is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with this program.  If not, see <http://www.gnu.org/licenses/>.

The IDL_RPC Bridge is an "in progress" project that was to demonstrate the use of IDL Remote Procedure Call (RPC) via a Drupal module. The project was to the point of having all the RPC functions working but not throughly tested before work stopped on it. The bridge allows PHP to call 8 functions to execute IDL commands and set and retrieve IDL variables. To continue working with this project, the user should know IDL, C and the PHP programming languages.The idl_php.c was adapted from the IDL RPC example, idl_rpc_test.c, found in the IDL distribution at, IDL_DIR/external/rpc.

This project contains the C code, header files and Makefile used to build a PHP extension that calls the locally installed IDL libraries. The 8 functions that can be called from PHP are:

   idlphp_executestr
   idlphp_getmainvariable
   idlphp_setmainstringvar
   idlphp_setmainlongvar
   idlphp_setmaindoublevar
   idlphp_setmainlongarray
   idlphp_setmaindoublearray
   idlphp_setmainstringarray

These functions are defined in the idl_php.c file. The developer has to compile the IDL_PHP bridge code after setting up some local variables and paths in the Makefile. The compiled extension is then copied from the extensions folder to the local PHP installations extension folder. The following lines need to be added to the local PHP's initialization file, php.ini:

extension=idlphp.so 
[xdebug]
zend_extension="/Applications/MAMP/bin/php/php5.3.14/lib/php/extensions/no-debug-non-zts-20090626/xdebug.so"

The zend_extension line needs to be modified to the point to the local installations extension directory and the xdebug package installed.

Some testing scripts are provided to test the bridge once install as a PHP extension.

An example Drupal page is also provided to test the bridge as is some data to test the IDL code.



Included in this package:

Drupal_source:
  idlphp.module, The Drupal module that defines the configuration page options and dataset browser page.
  idlphp.install, The Drupal install and uninstall functionality.
  idlphp.info, The Drupal information definition description.

C_source:
  config.h, Generated by configure when installing Makefile. You man need to install Makefile yourself.
  idl_php.c, The IDL_PHP bridge code.
  idl_php_test.php, PHP code to test the bridge functionality.
  idl_php_test_results.txt, The results of the idl_php_test.php as of 2014/08/07.
  Makefile, The project makefile to build the binary bridge.
  php_idlphp.h, Header file for idlphp.c
  php.ini, A copy of the local php.ini file with the idlphp and xdebug extensions defined as shown above.
 
  
C_source/include:
  idl_export.h, IDL export header file for IDL 8.2. Should be replaced with local version from IDL distribution.
  idl_rpc.h, IDL RPC header file for IDL 8.2. Should be replaced with local version from IDL distribution.
  idlphp.h, Defines Zend entry point for module.
  php_idlphp.h, Defines PHP functions

IDL_source:
  display_chirps_w_idl_rpc.pro, IDL code to generate images of CHIRPS data.

data/chirps_subset:
  IDL save files containing 3 monthly data sets and the land mask.


Installation:

The three Drupal files are placed in the Drupal sites custom module folder.

Run the Makefile in the C_source folder and copy the extension files the PHP extension folder.

The IDL code is placed in the local IDL lib folder.


FAQ:
Do I need an IDL license?
Yes you do. You can contact Thomas Harris at Thomas.Harris@exelisinc.com.





